{% extends 'admin/change_form.html' %}
{% load static %}

{% block admin_change_form_document_ready %}
{{ block.super }}
<script>
django.jQuery("input, textarea").each(function () {
  console.log(`"${this.placeholder}" and not "${this.value}"`)
  if (this.placeholder && !this.value) {
    this.insertAdjacentHTML("afterend", `<div class="help"><button type="button" class="editPlaceholderButton" data-id="${this.id}">Edit</button></div>`)
  }
});
django.jQuery(".editPlaceholderButton").click(function() {
  const id = this.dataset.id;
  const input = document.querySelector(`#${id}`);
  if (!input.value) {
    input.value = input.placeholder;
    django.jQuery(input).focus();
  }
});
</script>
{% endblock %}